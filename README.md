# Программа обработки изображений (png, jpg), работы с pdf

## Распознавание границ страниц на отсканированном развороте

**page_recognition.py** либо **per_page_recognition.py** изображения берутся из папки с постраничныеми pdf-файлами из подпапки **scan**, сохраняются как картинки в подпапку **split** с указанным форматом png или jpg.

[![Распознавание листов книги сканированного разворота](https://img.youtube.com/vi/w2iepQrS6Ow/0.jpg)](https://www.youtube.com/watch?v=w2iepQrS6Ow)

## Помещение страниц на фон

**move_to_bg.py** - вычисляется максимальная ширина и высота изображений, делается пустая картинка исходя из максимальных размеров + 1%, изображение страницы помещается в центр фоновой картинки и сохраняется под тем же именем.

## Сборка PDF-файла

Сборка происходит путем запуска утилиты **merge.py** в терминале/консоли Вашей операционной системы.

Сборка призводится из картинок в формате PNG, которые получаются во время автоматической их конвертации из PDF.

Постранично разбитые pdf-файлы и их конвертированные копии в формат png и jpg хранятся в папке **split**, в начальной папке проекта.

### Подготовка

Перед сборкой необходимо подготовить файлы к работе.

В папке **main/pdf** хранятся pdf-файлы, полученные по средствам утилиты **split.py**, которая постранично разбивает один pdf-файл на много мелких.

Из папки **main/pdf** необходимо **удалить начальные файлы/страницы**, которые Вы замените файлами, которые положите в папку start/pdf.

В папку **scan/pdf** необходимо положить файлы, и переименовать их таким образом, чтобы они соответствовали тем, что находятся в main/pdf, при условии что их Вы хотите заменить.

### Автоматическая конвертация в черно-белый формат

Для преобразования в черно-белый формат изображения, **переименуйте нужные файлы** путем добавления буквы 'b' в конец имени файла, например '007b.pdf'

### Результат

Результат Вы найдете в папке **result** внутри папки содержащей имя оригинального файла.

## Разборка PDF-файла

PDF-файлы для разборки хранятся в папке **source**, в начальной папке проекта.

Постраничное разбиение хранится в папке **split**, в начальной папке проекта.

Утилита **split.py**, постранично разбивает один pdf-файл на много мелких и сохраняет их в папку, содержащую в своем названии имя оригинального pdf-файла, **main/pdf**.

В папки **main/png**, **main/jpg** сохраняются конвертированные копии, необходимые в дальнейшем для сборки pdf-файла.
